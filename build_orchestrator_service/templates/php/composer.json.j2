{
    "name": "{{ package_name|default('vendor/my-php-app') }}",
    "description": "{{ description|default('A PHP application') }}",
    "type": "{{ project_type|default('project') }}",
    "license": "{{ license|default('MIT') }}",
    "require": {
        "php": "^{{ php_version|default('8.2') }}"
        {% if dependencies %}
        {% for dep, ver in dependencies.items() %},
        "{{ dep }}": "{{ ver }}"
        {% endfor %}
        {% endif %}
        {% if framework == 'Laravel' %},
        "laravel/framework": "^{{ laravel_version|default('10.0') }}",
        "guzzlehttp/guzzle": "^7.2"
        {% elif framework == 'Symfony' %},
        "symfony/framework-bundle": "^{{ symfony_version|default('6.4') }}",
        "symfony/console": "^6.4",
        "symfony/dotenv": "^6.4"
        {% endif %}
    },
    "require-dev": {
        {% if dev_dependencies %}
        {% for dep, ver in dev_dependencies.items() %}
        "{{ dep }}": "{{ ver }}"{% if not loop.last %},{% endif %}
        {% endfor %}
        {% else %}
        "phpunit/phpunit": "^10.0"
        {% endif %}
    },
    "autoload": {
        "psr-4": {
            "{{ namespace|default('App') }}\\": "{{ src_dir|default('src/') }}"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "{{ namespace|default('App') }}\\Tests\\": "tests/"
        }
    },
    "scripts": {
        {% if framework == 'Laravel' %}
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
            "@php artisan package:discover --ansi"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi"
        ]
        {% else %}
        "test": "phpunit",
        "check": "phpstan analyse src tests"
        {% endif %}
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    },
    "minimum-stability": "{{ minimum_stability|default('stable') }}",
    "prefer-stable": true
}
